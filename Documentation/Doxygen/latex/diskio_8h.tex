\hypertarget{diskio_8h}{\section{/run/media/julien/\+Data/\+Documents/\+M\+A\+V\+R\+I\+C/\+M\+A\+V\+R\+I\+C\+\_\+\+Library/hal/fat\+\_\+fs/diskio.h File Reference}
\label{diskio_8h}\index{/run/media/julien/\+Data/\+Documents/\+M\+A\+V\+R\+I\+C/\+M\+A\+V\+R\+I\+C\+\_\+\+Library/hal/fat\+\_\+fs/diskio.\+h@{/run/media/julien/\+Data/\+Documents/\+M\+A\+V\+R\+I\+C/\+M\+A\+V\+R\+I\+C\+\_\+\+Library/hal/fat\+\_\+fs/diskio.\+h}}
}
{\ttfamily \#include \char`\"{}integer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ff.\+h\char`\"{}}\\*
Include dependency graph for diskio.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=235pt]{diskio_8h__incl}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{diskio_8h_a1dd0d2b46dce637878416d489d2ddde2}{\#define \hyperlink{diskio_8h_a1dd0d2b46dce637878416d489d2ddde2}{\+\_\+\+U\+S\+E\+\_\+\+W\+R\+I\+T\+E}~1}\label{diskio_8h_a1dd0d2b46dce637878416d489d2ddde2}

\begin{DoxyCompactList}\small\item\em 1\+: Enable disk\+\_\+write function \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_afe6d1224687dede333375a2475c78ff6}{\#define \hyperlink{diskio_8h_afe6d1224687dede333375a2475c78ff6}{\+\_\+\+U\+S\+E\+\_\+\+I\+O\+C\+T\+L}~1}\label{diskio_8h_afe6d1224687dede333375a2475c78ff6}

\begin{DoxyCompactList}\small\item\em 1\+: Enable disk\+\_\+ioctl fucntion \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{\#define \hyperlink{diskio_8h_abd6503c70d862b979a3f7080a59e9acd}{S\+T\+A\+\_\+\+N\+O\+I\+N\+I\+T}~0x01}\label{diskio_8h_abd6503c70d862b979a3f7080a59e9acd}

\begin{DoxyCompactList}\small\item\em Drive not initialized. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_aec625080763d6cf487e550a6c9a2dd19}{\#define \hyperlink{diskio_8h_aec625080763d6cf487e550a6c9a2dd19}{S\+T\+A\+\_\+\+N\+O\+D\+I\+S\+K}~0x02}\label{diskio_8h_aec625080763d6cf487e550a6c9a2dd19}

\begin{DoxyCompactList}\small\item\em No medium in the drive. \end{DoxyCompactList}\item 
\#define \hyperlink{diskio_8h_a9ec6dc5f6620a33fabe388d3a111ca8c}{S\+T\+A\+\_\+\+P\+R\+O\+T\+E\+C\+T}~0x04
\begin{DoxyCompactList}\small\item\em Write protected. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_a1b3c492f9aec325f0655941b75256f3c}{\#define \hyperlink{diskio_8h_a1b3c492f9aec325f0655941b75256f3c}{C\+T\+R\+L\+\_\+\+S\+Y\+N\+C}~0}\label{diskio_8h_a1b3c492f9aec325f0655941b75256f3c}

\begin{DoxyCompactList}\small\item\em Flush disk cache (for write functions) \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_a570216006f6a8fc4e1698b1bbb2d1dde}{\#define \hyperlink{diskio_8h_a570216006f6a8fc4e1698b1bbb2d1dde}{G\+E\+T\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+C\+O\+U\+N\+T}~1}\label{diskio_8h_a570216006f6a8fc4e1698b1bbb2d1dde}

\begin{DoxyCompactList}\small\item\em Get media size (for only f\+\_\+mkfs()) \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_ac73b5cf2135cbd459d109b96c9aa346a}{\#define \hyperlink{diskio_8h_ac73b5cf2135cbd459d109b96c9aa346a}{G\+E\+T\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+Z\+E}~2}\label{diskio_8h_ac73b5cf2135cbd459d109b96c9aa346a}

\begin{DoxyCompactList}\small\item\em Get sector size (for multiple sector size (\+\_\+\+M\+A\+X\+\_\+\+S\+S $>$= 1024)) \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_aec3bb4dfe075d0ba2f3b07b300a95500}{\#define \hyperlink{diskio_8h_aec3bb4dfe075d0ba2f3b07b300a95500}{G\+E\+T\+\_\+\+B\+L\+O\+C\+K\+\_\+\+S\+I\+Z\+E}~3}\label{diskio_8h_aec3bb4dfe075d0ba2f3b07b300a95500}

\begin{DoxyCompactList}\small\item\em Get erase block size (for only f\+\_\+mkfs()) \end{DoxyCompactList}\item 
\#define \hyperlink{diskio_8h_a3b1dc812217ea7ffa118b14a3c1ab151}{C\+T\+R\+L\+\_\+\+E\+R\+A\+S\+E\+\_\+\+S\+E\+C\+T\+O\+R}~4
\begin{DoxyCompactList}\small\item\em Force erased a block of sectors (for only \+\_\+\+U\+S\+E\+\_\+\+E\+R\+A\+S\+E) \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_a345531a07462afbd999f414708e3b65b}{\#define \hyperlink{diskio_8h_a345531a07462afbd999f414708e3b65b}{C\+T\+R\+L\+\_\+\+P\+O\+W\+E\+R}~5}\label{diskio_8h_a345531a07462afbd999f414708e3b65b}

\begin{DoxyCompactList}\small\item\em Get/\+Set power status. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_af40e5cf3000553a978ff6e30dae70858}{\#define \hyperlink{diskio_8h_af40e5cf3000553a978ff6e30dae70858}{C\+T\+R\+L\+\_\+\+L\+O\+C\+K}~6}\label{diskio_8h_af40e5cf3000553a978ff6e30dae70858}

\begin{DoxyCompactList}\small\item\em Lock/\+Unlock media removal. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_a5e40e16d2d7ce196858950f070b9ec03}{\#define \hyperlink{diskio_8h_a5e40e16d2d7ce196858950f070b9ec03}{C\+T\+R\+L\+\_\+\+E\+J\+E\+C\+T}~7}\label{diskio_8h_a5e40e16d2d7ce196858950f070b9ec03}

\begin{DoxyCompactList}\small\item\em Eject media. \end{DoxyCompactList}\item 
\#define \hyperlink{diskio_8h_add07021167069f5914211a2f8830fabb}{C\+T\+R\+L\+\_\+\+F\+O\+R\+M\+A\+T}~8
\begin{DoxyCompactList}\small\item\em Create physical format on the media. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_aba3a81a9a47c7d1bf3ac7749bc72dcfd}{\#define \hyperlink{diskio_8h_aba3a81a9a47c7d1bf3ac7749bc72dcfd}{M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+T\+Y\+P\+E}~10}\label{diskio_8h_aba3a81a9a47c7d1bf3ac7749bc72dcfd}

\begin{DoxyCompactList}\small\item\em Get card type. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_ae3b858b81287929f7c7bea3b7aec3087}{\#define \hyperlink{diskio_8h_ae3b858b81287929f7c7bea3b7aec3087}{M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+C\+S\+D}~11}\label{diskio_8h_ae3b858b81287929f7c7bea3b7aec3087}

\begin{DoxyCompactList}\small\item\em Get C\+S\+D. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_a17ad303dd18b19a4c90ab30a8a1c14c4}{\#define \hyperlink{diskio_8h_a17ad303dd18b19a4c90ab30a8a1c14c4}{M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+C\+I\+D}~12}\label{diskio_8h_a17ad303dd18b19a4c90ab30a8a1c14c4}

\begin{DoxyCompactList}\small\item\em Get C\+I\+D. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_aff118ba6bd7a9fe7699cee049cff5d6c}{\#define \hyperlink{diskio_8h_aff118ba6bd7a9fe7699cee049cff5d6c}{M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+O\+C\+R}~13}\label{diskio_8h_aff118ba6bd7a9fe7699cee049cff5d6c}

\begin{DoxyCompactList}\small\item\em Get O\+C\+R. \end{DoxyCompactList}\item 
\#define \hyperlink{diskio_8h_a5cc43c8449b872e16ea5ab42592f793e}{M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+S\+D\+S\+T\+A\+T}~14
\begin{DoxyCompactList}\small\item\em Get S\+D status. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_a23f5fff3341e98825ea1f7367fd09f1a}{\#define \hyperlink{diskio_8h_a23f5fff3341e98825ea1f7367fd09f1a}{A\+T\+A\+\_\+\+G\+E\+T\+\_\+\+R\+E\+V}~20}\label{diskio_8h_a23f5fff3341e98825ea1f7367fd09f1a}

\begin{DoxyCompactList}\small\item\em Get F/\+W revision. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_a31f556ab98ab80c39058b38d9283865d}{\#define \hyperlink{diskio_8h_a31f556ab98ab80c39058b38d9283865d}{A\+T\+A\+\_\+\+G\+E\+T\+\_\+\+M\+O\+D\+E\+L}~21}\label{diskio_8h_a31f556ab98ab80c39058b38d9283865d}

\begin{DoxyCompactList}\small\item\em Get model name. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_a469c4f989757ee1ee404134fea3c74ba}{\#define \hyperlink{diskio_8h_a469c4f989757ee1ee404134fea3c74ba}{A\+T\+A\+\_\+\+G\+E\+T\+\_\+\+S\+N}~22}\label{diskio_8h_a469c4f989757ee1ee404134fea3c74ba}

\begin{DoxyCompactList}\small\item\em Get serial number. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\hypertarget{diskio_8h_adba6790898ce4029c20a34b898ce73c1}{typedef B\+Y\+T\+E \hyperlink{diskio_8h_adba6790898ce4029c20a34b898ce73c1}{D\+S\+T\+A\+T\+U\+S}}\label{diskio_8h_adba6790898ce4029c20a34b898ce73c1}

\begin{DoxyCompactList}\small\item\em Status of Disk Functions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+L\+T} \{ \\*
\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{R\+E\+S\+\_\+\+O\+K} = 0, 
\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{R\+E\+S\+\_\+\+E\+R\+R\+O\+R}, 
\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}{R\+E\+S\+\_\+\+W\+R\+P\+R\+T}, 
\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{R\+E\+S\+\_\+\+N\+O\+T\+R\+D\+Y}, 
\\*
\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{R\+E\+S\+\_\+\+P\+A\+R\+E\+R\+R}
 \}
\begin{DoxyCompactList}\small\item\em Results of Disk Functions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{diskio_8h_adba6790898ce4029c20a34b898ce73c1}{D\+S\+T\+A\+T\+U\+S} \hyperlink{diskio_8h_a09cdaa6f36fa409bdf002727bff98eb1}{disk\+\_\+initialize} (B\+Y\+T\+E pdrv)
\begin{DoxyCompactList}\small\item\em Initialise the disk. \end{DoxyCompactList}\item 
\hyperlink{diskio_8h_adba6790898ce4029c20a34b898ce73c1}{D\+S\+T\+A\+T\+U\+S} \hyperlink{diskio_8h_a8348ac5ee6d709420c02e45c111f4793}{disk\+\_\+status} (B\+Y\+T\+E pdrv)
\begin{DoxyCompactList}\small\item\em Get Disk Status. \end{DoxyCompactList}\item 
\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+L\+T} \hyperlink{diskio_8h_a075d27f59f550e2cee07d00abcff32e0}{disk\+\_\+read} (B\+Y\+T\+E pdrv, B\+Y\+T\+E $\ast$buff, D\+W\+O\+R\+D sector, U\+I\+N\+T count)
\begin{DoxyCompactList}\small\item\em Read a sector from the device and write to buff. \end{DoxyCompactList}\item 
\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+L\+T} \hyperlink{diskio_8h_a0fe56ee4831a44b09cfd96856e069634}{disk\+\_\+write} (B\+Y\+T\+E pdrv, const B\+Y\+T\+E $\ast$buff, D\+W\+O\+R\+D sector, U\+I\+N\+T count)
\begin{DoxyCompactList}\small\item\em Write the value of buff on the sector. \end{DoxyCompactList}\item 
\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+L\+T} \hyperlink{diskio_8h_ab00fa450a811dbdabe3c655c1a36fab4}{disk\+\_\+ioctl} (B\+Y\+T\+E pdrv, B\+Y\+T\+E cmd, void $\ast$buff)
\begin{DoxyCompactList}\small\item\em Miscellaneous Functions, function to get information from the device. \end{DoxyCompactList}\item 
D\+W\+O\+R\+D \hyperlink{diskio_8h_af58b536abfd30f77213f4ecaf2ac52f5}{get\+\_\+fattime} (void)
\begin{DoxyCompactList}\small\item\em The time to write the metadata of the files. \end{DoxyCompactList}\item 
F\+R\+E\+S\+U\+L\+T \hyperlink{diskio_8h_aa4a639f554c00794b5376410fd2513f8}{diskio\+\_\+open\+\_\+append} (\hyperlink{structFIL}{F\+I\+L} $\ast$fp, const char $\ast$path, B\+Y\+T\+E opening\+\_\+opt)
\begin{DoxyCompactList}\small\item\em Open the file path and seek the end to append. \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_ada249447a9224f8d05383545c09b9ffa}{void \hyperlink{diskio_8h_ada249447a9224f8d05383545c09b9ffa}{diskio\+\_\+test\+\_\+low\+\_\+layer} (void)}\label{diskio_8h_ada249447a9224f8d05383545c09b9ffa}

\begin{DoxyCompactList}\small\item\em A function to test the low layer (read/write bytes to the S\+D card) \end{DoxyCompactList}\item 
\hypertarget{diskio_8h_ac11d0361f0286f5c20c967a7e804b6ec}{void \hyperlink{diskio_8h_ac11d0361f0286f5c20c967a7e804b6ec}{diskio\+\_\+test\+\_\+fatfs} (void)}\label{diskio_8h_ac11d0361f0286f5c20c967a7e804b6ec}

\begin{DoxyCompactList}\small\item\em A function to test the mounting and writing process on the S\+D card. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Link the Fat\+Fs level with the low level command of the disk If a working storage control module is available, it should be attached to the Fat\+Fs via a glue function rather than modifying it. This is an example of glue functions to attach various exsisting storage control module to the Fat\+Fs module with a defined A\+P\+I.

Link the Fat\+Fs level with the low level command of the disk 

\subsection{Macro Definition Documentation}
\hypertarget{diskio_8h_a3b1dc812217ea7ffa118b14a3c1ab151}{\index{diskio.\+h@{diskio.\+h}!C\+T\+R\+L\+\_\+\+E\+R\+A\+S\+E\+\_\+\+S\+E\+C\+T\+O\+R@{C\+T\+R\+L\+\_\+\+E\+R\+A\+S\+E\+\_\+\+S\+E\+C\+T\+O\+R}}
\index{C\+T\+R\+L\+\_\+\+E\+R\+A\+S\+E\+\_\+\+S\+E\+C\+T\+O\+R@{C\+T\+R\+L\+\_\+\+E\+R\+A\+S\+E\+\_\+\+S\+E\+C\+T\+O\+R}!diskio.\+h@{diskio.\+h}}
\subsubsection[{C\+T\+R\+L\+\_\+\+E\+R\+A\+S\+E\+\_\+\+S\+E\+C\+T\+O\+R}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+T\+R\+L\+\_\+\+E\+R\+A\+S\+E\+\_\+\+S\+E\+C\+T\+O\+R~4}}\label{diskio_8h_a3b1dc812217ea7ffa118b14a3c1ab151}


Force erased a block of sectors (for only \+\_\+\+U\+S\+E\+\_\+\+E\+R\+A\+S\+E) 

Generic command (not used by Fat\+Fs) \hypertarget{diskio_8h_add07021167069f5914211a2f8830fabb}{\index{diskio.\+h@{diskio.\+h}!C\+T\+R\+L\+\_\+\+F\+O\+R\+M\+A\+T@{C\+T\+R\+L\+\_\+\+F\+O\+R\+M\+A\+T}}
\index{C\+T\+R\+L\+\_\+\+F\+O\+R\+M\+A\+T@{C\+T\+R\+L\+\_\+\+F\+O\+R\+M\+A\+T}!diskio.\+h@{diskio.\+h}}
\subsubsection[{C\+T\+R\+L\+\_\+\+F\+O\+R\+M\+A\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+T\+R\+L\+\_\+\+F\+O\+R\+M\+A\+T~8}}\label{diskio_8h_add07021167069f5914211a2f8830fabb}


Create physical format on the media. 

M\+M\+C/\+S\+D\+C specific ioctl command \hypertarget{diskio_8h_a5cc43c8449b872e16ea5ab42592f793e}{\index{diskio.\+h@{diskio.\+h}!M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+S\+D\+S\+T\+A\+T@{M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+S\+D\+S\+T\+A\+T}}
\index{M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+S\+D\+S\+T\+A\+T@{M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+S\+D\+S\+T\+A\+T}!diskio.\+h@{diskio.\+h}}
\subsubsection[{M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+S\+D\+S\+T\+A\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+M\+C\+\_\+\+G\+E\+T\+\_\+\+S\+D\+S\+T\+A\+T~14}}\label{diskio_8h_a5cc43c8449b872e16ea5ab42592f793e}


Get S\+D status. 

A\+T\+A/\+C\+F specific ioctl command \hypertarget{diskio_8h_a9ec6dc5f6620a33fabe388d3a111ca8c}{\index{diskio.\+h@{diskio.\+h}!S\+T\+A\+\_\+\+P\+R\+O\+T\+E\+C\+T@{S\+T\+A\+\_\+\+P\+R\+O\+T\+E\+C\+T}}
\index{S\+T\+A\+\_\+\+P\+R\+O\+T\+E\+C\+T@{S\+T\+A\+\_\+\+P\+R\+O\+T\+E\+C\+T}!diskio.\+h@{diskio.\+h}}
\subsubsection[{S\+T\+A\+\_\+\+P\+R\+O\+T\+E\+C\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+T\+A\+\_\+\+P\+R\+O\+T\+E\+C\+T~0x04}}\label{diskio_8h_a9ec6dc5f6620a33fabe388d3a111ca8c}


Write protected. 

Command code for disk\+\_\+ioctrl fucntion Generic command (used by Fat\+Fs) 

\subsection{Enumeration Type Documentation}
\hypertarget{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{\index{diskio.\+h@{diskio.\+h}!D\+R\+E\+S\+U\+L\+T@{D\+R\+E\+S\+U\+L\+T}}
\index{D\+R\+E\+S\+U\+L\+T@{D\+R\+E\+S\+U\+L\+T}!diskio.\+h@{diskio.\+h}}
\subsubsection[{D\+R\+E\+S\+U\+L\+T}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf D\+R\+E\+S\+U\+L\+T}}}\label{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}


Results of Disk Functions. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{R\+E\+S\+\_\+\+O\+K@{R\+E\+S\+\_\+\+O\+K}!diskio.\+h@{diskio.\+h}}\index{diskio.\+h@{diskio.\+h}!R\+E\+S\+\_\+\+O\+K@{R\+E\+S\+\_\+\+O\+K}}\item[{\em 
\hypertarget{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}{R\+E\+S\+\_\+\+O\+K}\label{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba2ea4b6ef3fffc17dd1d38ab5c2837737}
}]0\+: Successful \index{R\+E\+S\+\_\+\+E\+R\+R\+O\+R@{R\+E\+S\+\_\+\+E\+R\+R\+O\+R}!diskio.\+h@{diskio.\+h}}\index{diskio.\+h@{diskio.\+h}!R\+E\+S\+\_\+\+E\+R\+R\+O\+R@{R\+E\+S\+\_\+\+E\+R\+R\+O\+R}}\item[{\em 
\hypertarget{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}{R\+E\+S\+\_\+\+E\+R\+R\+O\+R}\label{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba78011f5557679ec178fb40bd21e89840}
}]1\+: R/\+W Error \index{R\+E\+S\+\_\+\+W\+R\+P\+R\+T@{R\+E\+S\+\_\+\+W\+R\+P\+R\+T}!diskio.\+h@{diskio.\+h}}\index{diskio.\+h@{diskio.\+h}!R\+E\+S\+\_\+\+W\+R\+P\+R\+T@{R\+E\+S\+\_\+\+W\+R\+P\+R\+T}}\item[{\em 
\hypertarget{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}{R\+E\+S\+\_\+\+W\+R\+P\+R\+T}\label{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2ba442a6d4393dc404827067bc4e981b322}
}]2\+: Write Protected \index{R\+E\+S\+\_\+\+N\+O\+T\+R\+D\+Y@{R\+E\+S\+\_\+\+N\+O\+T\+R\+D\+Y}!diskio.\+h@{diskio.\+h}}\index{diskio.\+h@{diskio.\+h}!R\+E\+S\+\_\+\+N\+O\+T\+R\+D\+Y@{R\+E\+S\+\_\+\+N\+O\+T\+R\+D\+Y}}\item[{\em 
\hypertarget{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}{R\+E\+S\+\_\+\+N\+O\+T\+R\+D\+Y}\label{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baad64c27c69eb1ff39ae67c5f77bb2b1d}
}]3\+: Not Ready \index{R\+E\+S\+\_\+\+P\+A\+R\+E\+R\+R@{R\+E\+S\+\_\+\+P\+A\+R\+E\+R\+R}!diskio.\+h@{diskio.\+h}}\index{diskio.\+h@{diskio.\+h}!R\+E\+S\+\_\+\+P\+A\+R\+E\+R\+R@{R\+E\+S\+\_\+\+P\+A\+R\+E\+R\+R}}\item[{\em 
\hypertarget{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}{R\+E\+S\+\_\+\+P\+A\+R\+E\+R\+R}\label{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2baf4dcc07fd46310b5495fa8025c89a9f3}
}]4\+: Invalid Parameter \end{description}
\end{Desc}


\subsection{Function Documentation}
\hypertarget{diskio_8h_a09cdaa6f36fa409bdf002727bff98eb1}{\index{diskio.\+h@{diskio.\+h}!disk\+\_\+initialize@{disk\+\_\+initialize}}
\index{disk\+\_\+initialize@{disk\+\_\+initialize}!diskio.\+h@{diskio.\+h}}
\subsubsection[{disk\+\_\+initialize}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+S\+T\+A\+T\+U\+S} disk\+\_\+initialize (
\begin{DoxyParamCaption}
\item[{B\+Y\+T\+E}]{pdrv}
\end{DoxyParamCaption}
)}}\label{diskio_8h_a09cdaa6f36fa409bdf002727bff98eb1}


Initialise the disk. 


\begin{DoxyParams}{Parameters}
{\em pdrv} & The drive number (0..)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A D\+S\+T\+A\+T\+U\+S value =$>$ S\+T\+A\+\_\+ \#define 
\end{DoxyReturn}
\hypertarget{diskio_8h_ab00fa450a811dbdabe3c655c1a36fab4}{\index{diskio.\+h@{diskio.\+h}!disk\+\_\+ioctl@{disk\+\_\+ioctl}}
\index{disk\+\_\+ioctl@{disk\+\_\+ioctl}!diskio.\+h@{diskio.\+h}}
\subsubsection[{disk\+\_\+ioctl}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+R\+E\+S\+U\+L\+T} disk\+\_\+ioctl (
\begin{DoxyParamCaption}
\item[{B\+Y\+T\+E}]{pdrv, }
\item[{B\+Y\+T\+E}]{cmd, }
\item[{void $\ast$}]{buff}
\end{DoxyParamCaption}
)}}\label{diskio_8h_ab00fa450a811dbdabe3c655c1a36fab4}


Miscellaneous Functions, function to get information from the device. 


\begin{DoxyParams}{Parameters}
{\em pdrv} & The drive number (0..) \\
\hline
{\em cmd} & The command of the feature \\
\hline
{\em buff} & The pointer to the buffer on which the result will be written\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The result of the get information process 
\end{DoxyReturn}
\hypertarget{diskio_8h_a075d27f59f550e2cee07d00abcff32e0}{\index{diskio.\+h@{diskio.\+h}!disk\+\_\+read@{disk\+\_\+read}}
\index{disk\+\_\+read@{disk\+\_\+read}!diskio.\+h@{diskio.\+h}}
\subsubsection[{disk\+\_\+read}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+R\+E\+S\+U\+L\+T} disk\+\_\+read (
\begin{DoxyParamCaption}
\item[{B\+Y\+T\+E}]{pdrv, }
\item[{B\+Y\+T\+E $\ast$}]{buff, }
\item[{D\+W\+O\+R\+D}]{sector, }
\item[{U\+I\+N\+T}]{count}
\end{DoxyParamCaption}
)}}\label{diskio_8h_a075d27f59f550e2cee07d00abcff32e0}


Read a sector from the device and write to buff. 


\begin{DoxyParams}{Parameters}
{\em pdrv} & The drive number (0..) \\
\hline
{\em buff} & The data buffer to store read data \\
\hline
{\em sector} & The start sector address to be read (L\+B\+A) \\
\hline
{\em count} & The number of sectors to be read\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The result of the read process, a D\+R\+E\+S\+U\+L\+T enum value 
\end{DoxyReturn}
\hypertarget{diskio_8h_a8348ac5ee6d709420c02e45c111f4793}{\index{diskio.\+h@{diskio.\+h}!disk\+\_\+status@{disk\+\_\+status}}
\index{disk\+\_\+status@{disk\+\_\+status}!diskio.\+h@{diskio.\+h}}
\subsubsection[{disk\+\_\+status}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+S\+T\+A\+T\+U\+S} disk\+\_\+status (
\begin{DoxyParamCaption}
\item[{B\+Y\+T\+E}]{pdrv}
\end{DoxyParamCaption}
)}}\label{diskio_8h_a8348ac5ee6d709420c02e45c111f4793}


Get Disk Status. 


\begin{DoxyParams}{Parameters}
{\em pdrv} & The drive number (0..)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A D\+S\+T\+A\+T\+U\+S value =$>$ S\+T\+A\+\_\+ \#define 
\end{DoxyReturn}
\hypertarget{diskio_8h_a0fe56ee4831a44b09cfd96856e069634}{\index{diskio.\+h@{diskio.\+h}!disk\+\_\+write@{disk\+\_\+write}}
\index{disk\+\_\+write@{disk\+\_\+write}!diskio.\+h@{diskio.\+h}}
\subsubsection[{disk\+\_\+write}]{\setlength{\rightskip}{0pt plus 5cm}{\bf D\+R\+E\+S\+U\+L\+T} disk\+\_\+write (
\begin{DoxyParamCaption}
\item[{B\+Y\+T\+E}]{pdrv, }
\item[{const B\+Y\+T\+E $\ast$}]{buff, }
\item[{D\+W\+O\+R\+D}]{sector, }
\item[{U\+I\+N\+T}]{count}
\end{DoxyParamCaption}
)}}\label{diskio_8h_a0fe56ee4831a44b09cfd96856e069634}


Write the value of buff on the sector. 


\begin{DoxyParams}{Parameters}
{\em pdrv} & The drive number (0..) \\
\hline
{\em buff} & The pointer to the buffer to take the data to write from \\
\hline
{\em sector} & The start sector on which it will be written (L\+B\+A) \\
\hline
{\em count} & The number of sectors on which it will be written\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The result of the write process, a D\+R\+E\+S\+U\+L\+T enum value 
\end{DoxyReturn}
\hypertarget{diskio_8h_aa4a639f554c00794b5376410fd2513f8}{\index{diskio.\+h@{diskio.\+h}!diskio\+\_\+open\+\_\+append@{diskio\+\_\+open\+\_\+append}}
\index{diskio\+\_\+open\+\_\+append@{diskio\+\_\+open\+\_\+append}!diskio.\+h@{diskio.\+h}}
\subsubsection[{diskio\+\_\+open\+\_\+append}]{\setlength{\rightskip}{0pt plus 5cm}F\+R\+E\+S\+U\+L\+T diskio\+\_\+open\+\_\+append (
\begin{DoxyParamCaption}
\item[{{\bf F\+I\+L} $\ast$}]{fp, }
\item[{const char $\ast$}]{path, }
\item[{B\+Y\+T\+E}]{opening\+\_\+opt}
\end{DoxyParamCaption}
)}}\label{diskio_8h_aa4a639f554c00794b5376410fd2513f8}


Open the file path and seek the end to append. 


\begin{DoxyParams}{Parameters}
{\em fp} & \mbox{[}O\+U\+T\mbox{]} File object to create \\
\hline
{\em path} & \mbox{[}I\+N\mbox{]} File name to be opened \\
\hline
{\em opening\+\_\+opt} & The opening file options\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The result of the process, a F\+R\+E\+S\+U\+L\+T enum (defined in \hyperlink{ff_8h_source}{ff.\+h}) 
\end{DoxyReturn}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{diskio_8h_aa4a639f554c00794b5376410fd2513f8_icgraph}
\end{center}
\end{figure}


\hypertarget{diskio_8h_af58b536abfd30f77213f4ecaf2ac52f5}{\index{diskio.\+h@{diskio.\+h}!get\+\_\+fattime@{get\+\_\+fattime}}
\index{get\+\_\+fattime@{get\+\_\+fattime}!diskio.\+h@{diskio.\+h}}
\subsubsection[{get\+\_\+fattime}]{\setlength{\rightskip}{0pt plus 5cm}D\+W\+O\+R\+D get\+\_\+fattime (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{diskio_8h_af58b536abfd30f77213f4ecaf2ac52f5}


The time to write the metadata of the files. 

\begin{DoxyReturn}{Returns}
The time under a bit mask form 
\end{DoxyReturn}
